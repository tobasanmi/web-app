!function(t){"use strict";var a,e,o=(e={classCartIcon:"my-cart-icon",classCartBadge:"my-cart-badge",classProductQuantity:"my-product-quantity",classProductRemove:"my-product-remove",classCheckoutCart:"my-cart-checkout",affixCartIcon:!0,showCheckoutModal:!0,clickOnAddToCart:function(t){},clickOnCartIcon:function(t,a,e,o){},checkoutCart:function(t,a,e){},getDiscountPrice:function(t,a,e){return null}},(a={}).getOptions=function(a){var o=t.extend({},e);return"object"==typeof a&&t.extend(o,a),o},a),c=function(){var a={};localStorage.products=localStorage.products?localStorage.products:"";var e=function(t){localStorage.products=JSON.stringify(t)},o=function(){try{return JSON.parse(localStorage.products)}catch(t){return[]}},c=function(a,c){var r=function(a){var e=-1,c=o();return t.each(c,function(t,o){o.id!=a||(e=t)}),e}(a);if(r<0)return!1;var i=o();return i[r].quantity=void 0===c?1*i[r].quantity+1:c,e(i),!0};return a.getAllProducts=o,a.updatePoduct=c,a.setProduct=function(a,r,z,i,n,s,d){return void 0===a?(console.error("id required"),!1):void 0===r?(console.error("name required"),!1):void 0===d?(console.error("image required"),!1):t.isNumeric(n)?t.isNumeric(s)?(i=void 0===i?"":i,void(c(a)||function(t,a,z,c,r,i,n){var s=o();s.push({id:t,name:a,sll:z,summary:c,price:r,quantity:i,image:n}),e(s)}(a,r,z,i,n,s,d))):(console.error("quantity is not a number"),!1):(console.error("price is not a number"),!1)},a.clearProduct=function(){e([])},a.removeProduct=function(a){var c=o();c=t.grep(c,function(t,e){return t.id!=a}),e(c)},a.getTotalQuantity=function(){var a=0,e=o();return t.each(e,function(t,e){a+=1*e.quantity}),a},a.getTotalPrice=function(){var a=o(),e=0;return t.each(a,function(t,a){e+=a.quantity*a.price}),e},a}(),r=function(a){var e=o.getOptions(a),r=t("."+e.classCartIcon),i=t("."+e.classCartBadge),n=e.classProductQuantity,s=e.classProductRemove,d=e.classCheckoutCart;i.text(c.getTotalQuantity()),t("#my-cart-modal").length||t("body").append('<div class="modal fade" id="my-cart-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel"><span class="glyphicon glyphicon-shopping-cart"></span> My Cart</h4></div><div class="modal-body"><table class="table table-hover table-responsive" id="my-cart-table"></table></div><div class="modal-footer"><a href="checkout.php?my-cart-table"><button type="button" class="btn btn-success">Check Out</button></a><button type="button" class="btn btn-danger" data-dismiss="modal" style="float:left">Continue Shopping</button></div></div></div></div>');var l=function(){var a=t("#my-cart-table");a.empty();var o=c.getAllProducts();t.each(o,function(){var t=this.quantity*this.price;a.append('<tr title="'+this.summary+'" data-id="'+this.id+'" data-price="'+this.price+'"><td class="text-center" style="width: 30px;"><img width="30px" height="30px" src="'+this.image+'"/></td><td>'+this.name+'</td><td title="Unit Price">&#x20a6 '+this.price+'</td><td title="Quantity"><select style="width: 70px;" class="'+n+'" onchange="changeit('+this.id+')" id="showit'+this.id+'"><option>0.25</option><option>0.5</option><option>0.75</option><option selected>1</option><option>1.25</option><option>1.50</option><option>1.75</option><option>2</option><option>2.25</option><option>2.5</option><option>3</option><option>3.25</option><option>3.50</option><option>4</option><option>4.25</option><option>4.50</option><option>5</option><option>5.25</option><option>5.50</option><option>6</option><option>6.25</option><option>6.50</option><option>7</option><option>7.25</option><option>7.50</option><option>8</option><option>8.25</option><option>8.50</option><option>9</option><option>9.25</option><option>9.50</option><option>10</option><option>10.25</option><option>10.50</option><option>11</option><option>11.25</option><option>11.50</option><option>12</option><option>12.25</option><option>12.50</option><option>13</option><option>13.25</option><option>13.50</option><option>14</option><option>14.25</option><option>14.50</option><option>15</option><option>16</option><option>17</option><option>18</option><option>19</option><option>20</option><option>21</option><option>22</option><option>23</option><option>24</option><option>25</option><option>26</option><option>27</option><option>28</option><option>29</option><option>30</option><option>others</option></select><input type="number" class="'+n+'" id="hideit'+this.id+'" value="" style="display: none;"></td><td title="Total" class="my-product-total">&#x20a6 '+t+'</td><td title="Remove from Cart" class="text-center" style="width: 30px;"><a href="javascript:void(0);" class="btn btn-xs btn-danger '+s+'">X</a></td></tr>')}),a.append(o.length?'<tr><td></td><td><strong>Total</strong></td><td></td><td></td><td><strong id="my-cart-grand-total">$</strong></td><td></td></tr>':'<div class="alert alert-danger" role="alert" id="my-cart-empty-message">Your cart is empty</div>');var r=e.getDiscountPrice(o,c.getTotalPrice(),c.getTotalQuantity());o.length&&null!==r&&a.append('<tr style="color: red"><td></td><td></td><td></td><td></td></tr>'),localStorage.setItem("total",r),u(),m()},u=function(){t("#my-cart-grand-total").text(" "+c.getTotalPrice())},m=function(){t("#my-cart-discount-price").text("₦"+e.getDiscountPrice(c.getAllProducts(),c.getTotalPrice(),c.getTotalQuantity())),localStorage.setItem("total",c.getTotalPrice())};if(e.affixCartIcon){var y=1*r.offset().top+1*r.css("height").match(/\d+/),p=r.css("position");t(window).scroll(function(){t(window).scrollTop()>=y?r.css("position","fixed").css("z-index","999").addClass("my-cart-icon-affix"):r.css("position",p).css("background-color","inherit").removeClass("my-cart-icon-affix")})}r.click(function(){e.showCheckoutModal?(l(),t("#my-cart-modal").modal("show")):e.clickOnCartIcon(r,c.getAllProducts(),c.getTotalPrice(),c.getTotalQuantity())}),t(document).on("input","."+n,function(){var a=t(this).closest("tr").data("price"),e=t(this).closest("tr").data("id"),o=t(this).val();t(this).parent("td").next(".my-product-total").text("₦"+a*o),c.updatePoduct(e,o),i.text(c.getTotalQuantity()),u(),m()}),t(document).on("keypress","."+n,function(t){}),t(document).on("click","."+s,function(){var a=t(this).closest("tr"),e=a.data("id");a.hide(500,function(){c.removeProduct(e),l(),i.text(c.getTotalQuantity())})}),t("."+d).click(function(){c.getAllProducts().length?(t.each(t("."+n),function(){var a=t(this).closest("tr").data("id");c.updatePoduct(a,t(this).val())}),e.checkoutCart(c.getAllProducts(),c.getTotalPrice(),c.getTotalQuantity()),c.clearProduct(),i.text(c.getTotalQuantity()),t("#my-cart-modal").modal("hide")):t("#my-cart-empty-message").fadeTo("fast",.5).fadeTo("fast",1)})},i=function(a,e){var r=t(a),i=o.getOptions(e),n=(t("."+i.classCartIcon),t("."+i.classCartBadge));r.click(function(){i.clickOnAddToCart(r);var t=r.data("id"),a=r.data("name"),g=r.data("sll"),e=r.data("summary"),o=r.data("price"),s=r.data("quantity"),d=r.data("image");c.setProduct(t,a,g,e,o,s,d),n.text(c.getTotalQuantity())})};t.fn.myCart=function(a){return r(a),t.each(this,function(){new i(this,a)})}}(jQuery);



function changeit(str){
	var qnty =  document.getElementById('showit'+str).value;
	if(qnty == 'others'){		
		document.getElementById('showit'+str).style.display = 'none';
		document.getElementById('hideit'+str).style.display = 'block'; 
		//document.getElementById('hideit'+str).value = parseInt(1);
	}else{
		document.getElementById('showit'+str).style.display = 'block';
		document.getElementById('hideit'+str).style.display = 'none'; 		
	}
}
