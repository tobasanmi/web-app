(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{c21c:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-scroll-area",{staticClass:"full-height full-width"},[a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.HEADING_SETTINGS",expression:"'GOOGLE.HEADING_SETTINGS'"}],staticClass:"col text-h5"})]),a("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row q-mb-md"},[a("q-checkbox",{attrs:{dense:""},model:{value:e.enableGoogle,callback:function(t){e.enableGoogle=t},expression:"enableGoogle"}},[a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.ENABLE_MODULE",expression:"'GOOGLE.ENABLE_MODULE'"}]})],1)],1),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"OAUTHINTEGRATORWEBCLIENT.LABEL_APP_ID",expression:"'OAUTHINTEGRATORWEBCLIENT.LABEL_APP_ID'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.appId,callback:function(t){e.appId=t},expression:"appId"}})],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"OAUTHINTEGRATORWEBCLIENT.LABEL_APP_SECRET",expression:"'OAUTHINTEGRATORWEBCLIENT.LABEL_APP_SECRET'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.appSecret,callback:function(t){e.appSecret=t},expression:"appSecret"}})],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.LABEL_API_KEY",expression:"'GOOGLE.LABEL_API_KEY'"}],staticClass:"col-2 q-my-sm q-pl-sm required-field"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.apiKey,callback:function(t){e.apiKey=t},expression:"apiKey"}})],1)]),a("div",{staticClass:"row"},[a("q-item-label",{attrs:{caption:""}},[a("span",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.INFO_SETTINGS",expression:"'GOOGLE.INFO_SETTINGS'"}]})])],1),0===e.scopes.length?a("div",{staticClass:"row q-my-md"},[a("q-item-label",{attrs:{caption:""}},[a("span",{directives:[{name:"t",rawName:"v-t",value:"GOOGLE.INFO_NO_SCOPES_AVAILABLE",expression:"'GOOGLE.INFO_NO_SCOPES_AVAILABLE'"}]})])],1):e._e(),e._l(e.scopes,(function(t){return a("div",{key:t.name,staticClass:"row q-my-md"},[a("q-checkbox",{attrs:{dense:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"scope.value"}},[a("q-item-label",[e._v(e._s(t.label))])],1)],1)}))],2)],1),a("div",{staticClass:"q-pt-md text-right"},[a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.saveGoogleSettings}})],1)],1),a("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.saving}},[a("q-linear-progress",{attrs:{query:""}})],1)],1)},i=[],o=(a("b771"),a("f108"),a("6797"),a("4245")),n=a("21ac"),l=a("e539"),r=a("4088"),c={name:"GoogleAdminSettings",data:function(){return{enableGoogle:!1,appId:"",appSecret:"",apiKey:"",scopes:[],saving:!1}},mounted:function(){this.populate()},beforeRouteLeave:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},methods:{hasChanges:function(){var e=r["a"].getGoogleSettings(),t=this.scopes.some((function(t){var a=e.scopes.find((function(e){return e.Name===t.name}));return a.Value!==t.value}));return this.enableGoogle!==e.enableModule||this.appId!==e.id||this.apiKey!==e.key||t||this.appSecret!==e.secret},revertChanges:function(){this.populate()},populate:function(){var e=r["a"].getGoogleSettings();this.enableGoogle=e.enableModule,this.appId=e.id,this.appSecret=e.secret,this.apiKey=e.key,this.scopes=e.scopes.map((function(e){return{name:e.Name,value:e.Value,label:e.Description}}))},saveGoogleSettings:function(){this.appId&&this.apiKey&&this.appSecret||!this.enableGoogle?this.save():n["a"].showError(this.$t("MAILWEBCLIENT.ERROR_REQUIRED_FIELDS_EMPTY"))},save:function(){var e=this;if(!this.saving){this.saving=!0;var t={EnableModule:this.enableGoogle,Id:this.appId,Secret:this.appSecret,Key:this.apiKey,Scopes:this.scopes.map((function(e){return{Name:e.name,Value:e.value,Description:e.label}}))};l["a"].sendRequest({moduleName:"Google",methodName:"UpdateSettings",parameters:t}).then((function(a){e.saving=!1,!0===a?(r["a"].saveGoogleSettings(t),e.populate(),n["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):n["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.saving=!1,n["a"].showError(o["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}}}},p=c,d=a("2877"),E=a("4983"),u=a("f09f"),m=a("a370"),v=a("8f8e"),h=a("0170"),I=a("27f9"),G=a("9c40"),L=a("74f7"),O=a("6b1d"),S=a("eebe"),b=a.n(S),g=Object(d["a"])(p,s,i,!1,null,"2bd29cd0",null);t["default"]=g.exports;b()(g,"components",{QScrollArea:E["a"],QCard:u["a"],QCardSection:m["a"],QCheckbox:v["a"],QItemLabel:h["a"],QInput:I["a"],QBtn:G["a"],QInnerLoading:L["a"],QLinearProgress:O["a"]})}}]);